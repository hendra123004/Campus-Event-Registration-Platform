<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Campus Event Registration Platform</title>
  <style>
    body {font-family:Poppins,Arial,sans-serif;background:#f0f3f9;margin:0;padding:0;color:#333;}
    header {background:#0056ff;color:white;padding:15px;text-align:center;}
    main {width:90%;max-width:900px;margin:30px auto;background:white;border-radius:10px;padding:25px;box-shadow:0 3px 10px rgba(0,0,0,0.1);}
    h2 {border-bottom:2px solid #ddd;padding-bottom:8px;margin-top:0;}
    form {margin-bottom:20px;}
    input,button {padding:10px;margin:5px;width:95%;border:1px solid #ccc;border-radius:6px;}
    button {background:#0056ff;color:white;border:none;width:98%;cursor:pointer;}
    button:hover {background:#003bb3;}
    .event-list {list-style:none;padding:0;}
    .event-item {background:#f8f9ff;margin:10px 0;padding:15px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.05);}
    .btn {display:inline-block;padding:6px 10px;border-radius:5px;text-decoration:none;color:white;font-size:14px;margin-top:5px;}
    .btn:hover {opacity:0.8;}
    .btn-view {background:#0099ff;}
    .btn-edit {background:#ffa500;}
    .btn-delete {background:#ff4040;}
    .message {background:#e0f2ff;border-left:5px solid #0099ff;padding:10px;margin-bottom:10px;border-radius:5px;}
  </style>
</head>
<body>
<header>
  <h1>🎓 Campus Event Registration Platform</h1>
</header>

<main>
  {% for message in messages %}
    <div class="message">{{ message }}</div>
  {% endfor %}

  <h2>🗓️ Tambah Event</h2>
  <form method="post">
    {% csrf_token %}
    <input type="text" name="title" placeholder="Nama Event" required><br>
    <input type="date" name="date" required><br>
    <input type="text" name="location" placeholder="Lokasi" required><br>
    <input type="number" name="quota" placeholder="Kuota Peserta" required><br>
    <input type="password" name="admin_pass" placeholder="Password Admin" required><br>
    <button type="submit" name="add_event">Tambah Event</button>
  </form>

  <h2>📋 Daftar Event</h2>
  <ul class="event-list">
    {% for e in events %}
      <li class="event-item">
        <b>{{ e.title }}</b><br>
        📍 {{ e.location }}<br>
        🗓️ {{ e.date }}<br>
        🎟️ Kuota: {{ e.quota }}<br><br>
        <a href="/participants/{{ e.id }}/" class="btn btn-view">👥 Lihat Peserta</a>
        <a href="/edit/{{ e.id }}/" class="btn btn-edit">✏️ Edit</a>
        <a href="/delete/{{ e.id }}/" class="btn btn-delete">🗑️ Hapus</a>
      </li>
    {% empty %}
      <li>Tidak ada event.</li>
    {% endfor %}
  </ul>

  <h2>🧍‍♂️ Daftar Peserta</h2>
  <form method="post" action="/register/">
    {% csrf_token %}
    <input type="text" name="name" placeholder="Nama Peserta" required><br>
    <input type="email" name="email" placeholder="Email Peserta" required><br>
    <input type="text" name="event_name" placeholder="Nama Event yang Dituju" required><br>
    <button type="submit" name="register_participant">Daftar</button>
  </form>
</main>
</body>
</html>
